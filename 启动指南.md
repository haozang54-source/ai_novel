# 项目启动指南

## 环境要求

- Python 3.8+
- Node.js 16+
- pipenv

## 后端启动

```bash
# 1. 安装依赖
pipenv install

# 2. 配置环境变量
cp .env.example .env
# 编辑 .env 文件，配置 LLM API

# 3. 初始化数据库
pipenv run python scripts/init_db.py

# 3.1 如果是更新代码后启动，需要迁移数据库
pipenv run python scripts/migrate_db.py

# 4. 启动后端服务
pipenv run python scripts/run_dev.py
```

后端服务运行在 `http://localhost:5000`

## 前端启动

```bash
# 1. 进入前端目录
cd novel_web/frontend

# 2. 安装依赖
npm install

# 3. 启动开发服务器
npm run dev
```

前端服务运行在 `http://localhost:5173`

## 快速验证

1. 浏览器访问 `http://localhost:5173`
2. 创建新项目
3. 生成卷级大纲

## 常见问题

**Q: 后端启动报错 ModuleNotFoundError**  
A: 确保使用 `pipenv run` 运行命令

**Q: 数据库报错 "no such column"**  
A: 运行数据库迁移脚本：`pipenv run python scripts/migrate_db.py`

**Q: 前端无法连接后端**  
A: 检查后端是否在 5001 端口运行，查看 `frontend/vite.config.ts` 代理配置
